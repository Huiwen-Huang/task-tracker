{"version":3,"file":"js/298.64eaba68.js","mappings":"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","sources":["webpack://task-tracker_vue/./src/views/LoginPage.vue","webpack://task-tracker_vue/./src/views/LoginPage.vue?fce3"],"sourcesContent":["<template>\n  <div class=\"container mt-md-5 mt-3\">\n    <div class=\"row mt-5 flex-sm-colum-reverse justify-content-center align-items-center\">\n      <div class=\"col-md-4 mt-md-5 mt-3 ms-md-5\">\n        <h3 class=\"fs-3 fw-bold text-center mb-md-4 mb-2\">登入會員</h3>\n        <form @submit.prevent=\"login\">\n          <div class=\"p-md-0 p-3\">\n            <div class=\"form-floating mb-3\">\n              <input type=\"email\" class=\"form-control mb-3\" id=\"floatingInput\" name=\"email\" placeholder=\"name@example.com\" v-model=\"userEmail\" required>\n              <label for=\"floatingInput\" class=\"\">帳號</label>\n            </div>\n            <div class=\"form-floating mb-3\">\n              <input type=\"password\" class=\"form-control mb-4\" name=\"psw\" id=\"psw\" placeholder=\"密碼\" v-model=\"userPsw\" required>\n              <label for=\"psw\">密碼</label>\n            </div>\n            <button class=\"btn btn-primary text-light w-100 mb-4\">登入</button>\n            <p class=\"text-center\">首次使用 ｜ <router-link to=\"/signup\" class=\"text-secondary\">立即註冊</router-link></p>\n          </div>\n        </form>\n      </div>\n      <div class=\"col-md-5 col-10\">\n        <img src=\"../assets/img/girl-list-2.png\" alt=\"list-girl\" class=\"w-100\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport axios from 'axios'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'app',\n  setup () {\n    const router = useRouter()\n    const api = 'https://todoo.5xcamp.us'\n    const userEmail = ref('')\n    const userPsw = ref('')\n\n    let token = ''\n\n    const login = () => {\n      const obj = {\n        user: {\n          email: userEmail.value,\n          password: userPsw.value\n        }\n      }\n      axios.post(`${api}/users/sign_in`, obj).then((Response) => {\n        token = Response.headers.authorization\n        console.log(Response, token)\n        localStorage.setItem('token', token)\n        router.push('/todo')\n      }).catch((Error) => console.log(Error.response))\n\n      userEmail.value = ''\n      userPsw.value = ''\n    }\n\n    const newTodo = ref('')\n    const addTodo = () => {\n      const todo = {\n        todo: {\n          content: newTodo.value\n        }\n      }\n      const tokenKey = {\n        headers: {\n          Authorization: token\n        }\n      }\n      axios.post(`${api}/todos`, todo, tokenKey).then((Response) => console.log(Response)).catch((Error) => console.log(Error.response.data))\n    }\n    const getTodo = () => {\n      axios.get(`${api}/todos`, {\n        headers: {\n          Authorization: token\n        }\n      }).then((Response) => {\n        console.log(Response)\n        const body = document.querySelector('body')\n        const alltodo = document.querySelector('.alltodo').textContent = Response.data.todos.join(' ')\n        body.appendChild(alltodo)\n      }).catch((Error) => console.log(Error.response.data))\n    }\n    // onMounted(() => {\n    //   axios.get(`${api}/todos`, {\n    //     headers: {\n    //       Authorization: token\n    //     }\n    //   }).then((Response) => console.log(Response))\n    // })\n    return {\n      userEmail,\n      userPsw,\n      login,\n      getTodo,\n      addTodo,\n      newTodo\n    }\n  }\n}\n</script>\n\n<style>\n.row{\n  min-height: 80vh;\n}\n</style>\n","import { render } from \"./LoginPage.vue?vue&type=template&id=23d4076d\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=23d4076d&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$setup","login","_hoisted_4","_hoisted_5","type","id","name","placeholder","$event","userEmail","required","for","_hoisted_6","userPsw","_hoisted_7","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","src","_imports_0","alt","setup","router","useRouter","api","ref","token","obj","user","email","value","password","axios","post","then","Response","headers","authorization","console","log","localStorage","setItem","push","catch","Error","response","newTodo","addTodo","todo","content","tokenKey","Authorization","data","getTodo","get","body","document","querySelector","alltodo","textContent","todos","join","appendChild","__exports__","render"],"sourceRoot":""}