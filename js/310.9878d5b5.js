"use strict";(self["webpackChunktask_tracker_vue"]=self["webpackChunktask_tracker_vue"]||[]).push([[310],{4310:function(t,e,o){o.r(e),o.d(e,{default:function(){return K}});var n=o(6768),d=o(4232),l=o(5130),s=o(5539);const a={class:"container"},c={class:"row mt-5 justify-content-between align-items-center m-auto"},r={class:"col-md-6 col-7 m-auto d-md-flex justify-content-md-end align-items-center text-center"},i={class:"mx-md-4 mx-2 fw-bold fs-5 mb-md-0 mb-3"},u={class:"row mt-4"},m={class:"col-md-8 col-11 m-auto d-flex justify-content-center align-items-center"},p={class:"col-md-8 col-10 m-auto mt-5 d-md-flex justify-content-md-between"},k={class:"card border-primary me-md-3 mb-3 mx-auto"},b={class:"card-body text-primary"},f=["onClick"],x={class:"card border-primary me-md-3 mb-3 mx-auto"},h={class:"card-body text-primary"},v=["onClick"],y={class:"card border-primary mb-3 mx-auto"},w={class:"card-body"},L=["onClick"];function g(t,e,o,g,C,A){return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",c,[e[3]||(e[3]=(0,n.Lk)("div",{class:"col-md-4 col-12 px-md-0 px-5 mb-md-0 mb-3"},[(0,n.Lk)("img",{src:s,alt:"logo",class:"w-100 px-md-8 px-2"})],-1)),(0,n.Lk)("div",r,[(0,n.Lk)("p",i,"Hi! "+(0,d.v_)(g.username),1),(0,n.Lk)("a",{href:"",class:"text-secondary text-decoration-none",onClick:e[0]||(e[0]=(0,l.D$)(((...t)=>g.logout&&g.logout(...t)),["prevent"]))},"登出")])]),(0,n.Lk)("div",u,[(0,n.Lk)("div",m,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control-lg w-75 border border-primary text-center",placeholder:"Add New Todo Now!","onUpdate:modelValue":e[1]||(e[1]=t=>g.newTodo=t)},null,512),[[l.Jo,g.newTodo]]),(0,n.Lk)("a",{href:"#",onClick:e[2]||(e[2]=(0,l.D$)(((...t)=>g.addTodo&&g.addTodo(...t)),["prevent"]))},e[4]||(e[4]=[(0,n.Lk)("i",{class:"bi bi-plus-square fs-1 text-primary ms-2"},null,-1)]))]),(0,n.Lk)("div",p,[(0,n.Lk)("div",k,[e[5]||(e[5]=(0,n.Lk)("div",{class:"card-header fs-4 fw-bold p-3 text-center text-secondary"},"Personal",-1)),(0,n.Lk)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.todos,(t=>((0,n.uX)(),(0,n.CE)("button",{type:"button",class:"btn btn-outline-primary d-flex flex-column w-100 py-2 px-3 mb-3",key:t.id,onClick:e=>g.deleteTodo(t.id)},(0,d.v_)(t.content),9,f)))),128))])]),(0,n.Lk)("div",x,[e[6]||(e[6]=(0,n.Lk)("div",{class:"card-header fs-4 fw-bold p-3 text-center text-secondary"},"Family",-1)),(0,n.Lk)("div",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.todos,(t=>((0,n.uX)(),(0,n.CE)("button",{type:"button",class:"btn btn-outline-primary d-flex flex-column w-100 py-2 px-3 mb-3",key:t.id,onClick:e=>g.deleteTodo(t.id)},(0,d.v_)(t.content),9,v)))),128))])]),(0,n.Lk)("div",y,[e[7]||(e[7]=(0,n.Lk)("div",{class:"card-header fs-4 fw-bold p-3 text-center text-secondary"},"Work",-1)),(0,n.Lk)("div",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.todos,(t=>((0,n.uX)(),(0,n.CE)("button",{type:"button",class:"btn btn-outline-primary d-flex flex-column w-100 py-2 px-3 mb-3",key:t.id,onClick:e=>g.deleteTodo(t.id)},(0,d.v_)(t.content),9,L)))),128))])])]),e[8]||(e[8]=(0,n.Lk)("div",{class:"col-md-8 col-10 m-auto mt-3 mb-3"},[(0,n.Lk)("ul",{class:"d-flex justify-content-between align-items-center"},[(0,n.Lk)("li",null,"尚有 5 項待辦"),(0,n.Lk)("li",{class:"btn btn-outline-primary"},"清除已完成項目")])],-1))])])}o(4114);var C=o(144),A=o(4373),T=o(4874),$=o.n(T),_=o(4103),E={name:"app",setup(){const t="https://todoo.5xcamp.us",e=localStorage.getItem("token"),o=localStorage.getItem("username"),d=()=>{A.A.delete(`${t}/users/sign_out`,{headers:{Authorization:e}}).then((t=>{p(),console.log(t),setTimeout((()=>_.A.push("/")),1500)}))},l=(0,C.KR)([]),s=()=>{const o={headers:{Authorization:e}};A.A.get(`${t}/todos`,o).then((t=>{l.value=t.data.todos,console.log(t.data.todos)}))};(0,n.sV)((()=>{s()}));const a=(0,C.KR)(""),c=()=>{if(""===a.value)return void u();const o={todo:{content:a.value}},n={headers:{Authorization:e}};A.A.post(`${t}/todos`,o,n).then((t=>{m();const e={};e.id=t.data.id,e.content=t.data.content,l.value.unshift(e)})).catch((t=>console.log(t))),a.value=""},r=o=>{const n={todo:{content:a.value}},d={headers:{Authorization:e}};A.A.put(`${t}/todos/${o}`,n,d).then((t=>{console.log(t)}))},i=o=>{const n={headers:{Authorization:e}};A.A.delete(`${t}/todos/${o}`,n).then((t=>{console.log(t),k(),setTimeout((()=>s()),1500)}))},u=()=>{$().fire({text:"新增欄位不得空白！",confirmButtonText:"OK",confirmButtonColor:"#A7C4B5",width:300})},m=()=>{$().fire({title:"Add Success!",showConfirmButton:!1,timer:1e3,width:300})},p=()=>{$().fire({title:"Logout Success!",showConfirmButton:!1,timer:1500,width:400})},k=()=>{$().fire({title:"Delete Success!",showConfirmButton:!1,timer:1500,width:400})};return{username:o,newTodo:a,todos:l,getTodo:s,addTodo:c,logout:d,editTodo:r,deleteTodo:i,addAlert:u,addSuccessAlert:m,logoutAlert:p,deleteAlert:k}}},X=o(1241);const B=(0,X.A)(E,[["render",g]]);var K=B}}]);
//# sourceMappingURL=310.9878d5b5.js.map