{"version":3,"file":"js/310.9878d5b5.js","mappings":"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","sources":["webpack://task-tracker_vue/./src/views/TodoList.vue","webpack://task-tracker_vue/./src/views/TodoList.vue?eabb"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- header -->\n    <div class=\"row mt-5 justify-content-between align-items-center m-auto\">\n      <div class=\"col-md-4 col-12 px-md-0 px-5 mb-md-0 mb-3\">\n        <img src=\"../assets/img/tasktracker-logo.png\" alt=\"logo\" class=\"w-100 px-md-8 px-2\">\n      </div>\n      <div class=\"col-md-6 col-7 m-auto d-md-flex justify-content-md-end align-items-center text-center\">\n        <p class=\"mx-md-4 mx-2 fw-bold fs-5 mb-md-0 mb-3\">Hi! {{ username }}</p>\n        <!-- <button class=\"btn btn-outline-primary\" @click.prevent=\"logout\">登出</button> -->\n        <a href=\"\" class=\"text-secondary text-decoration-none\" @click.prevent=\"logout\">登出</a>\n      </div>\n    </div>\n    <!-- Todo -->\n    <div class=\"row mt-4\">\n      <!-- addTodo -->\n      <div class=\"col-md-8 col-11 m-auto d-flex justify-content-center align-items-center\">\n        <input type=\"text\" class=\"form-control-lg w-75 border border-primary text-center\" placeholder=\"Add New Todo Now!\" v-model=\"newTodo\">\n        <a href=\"#\" @click.prevent=\"addTodo\"><i class=\"bi bi-plus-square fs-1 text-primary ms-2\"></i></a>\n      </div>\n      <!-- todoList -->\n      <div class=\"col-md-8 col-10 m-auto mt-5 d-md-flex justify-content-md-between\">\n        <div class=\"card border-primary me-md-3 mb-3 mx-auto\">\n          <div class=\"card-header fs-4 fw-bold p-3 text-center text-secondary\">Personal</div>\n          <div class=\"card-body text-primary\">\n            <button type=\"button\" class=\"btn btn-outline-primary d-flex flex-column w-100 py-2 px-3 mb-3\" v-for=\"item in todos\" :key=\"item.id\" @click=\"deleteTodo(item.id)\">{{ item.content }}</button>\n          </div>\n        </div>\n        <div class=\"card border-primary me-md-3 mb-3 mx-auto\">\n          <div class=\"card-header fs-4 fw-bold p-3 text-center text-secondary\">Family</div>\n          <div class=\"card-body text-primary\">\n            <button type=\"button\" class=\"btn btn-outline-primary d-flex flex-column w-100 py-2 px-3 mb-3\" v-for=\"item in todos\" :key=\"item.id\" @click=\"deleteTodo(item.id)\">{{ item.content }}</button>\n          </div>\n        </div>\n        <div class=\"card border-primary mb-3 mx-auto\">\n          <div class=\"card-header fs-4 fw-bold p-3 text-center text-secondary\">Work</div>\n          <div class=\"card-body\">\n            <button type=\"button\" class=\"btn btn-outline-primary d-flex flex-column w-100 py-2 px-3 mb-3\" v-for=\"item in todos\" :key=\"item.id\" @click=\"deleteTodo(item.id)\">{{ item.content }}</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-8 col-10 m-auto mt-3 mb-3\">\n        <ul class=\"d-flex justify-content-between align-items-center\">\n          <li>尚有 5 項待辦</li>\n          <li class=\"btn btn-outline-primary\">清除已完成項目</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\nimport router from '@/router'\n\nexport default {\n  name: 'app',\n  setup () {\n    const api = 'https://todoo.5xcamp.us'\n    const token = localStorage.getItem('token')\n    const username = localStorage.getItem('username')\n\n    const logout = () => {\n      axios.delete(`${api}/users/sign_out`, {\n        headers: {\n          Authorization: token\n        }\n      }).then((Response) => {\n        logoutAlert()\n        console.log(Response)\n        setTimeout(() => router.push('/'), 1500)\n      })\n    }\n\n    const todos = ref([])\n    const getTodo = () => {\n      const tokenKey = {\n        headers: {\n          Authorization: token\n        }\n      }\n      axios.get(`${api}/todos`, tokenKey).then((Response) => {\n        todos.value = Response.data.todos\n        console.log(Response.data.todos)\n      })\n    }\n    onMounted(() => {\n      getTodo()\n    })\n\n    const newTodo = ref('')\n    const addTodo = () => {\n      if (newTodo.value === '') {\n        addAlert()\n        return\n      }\n      const todo = {\n        todo: {\n          content: newTodo.value\n        }\n      }\n      const tokenKey = {\n        headers: {\n          Authorization: token\n        }\n      }\n      axios.post(`${api}/todos`, todo, tokenKey)\n        .then((Response) => {\n          addSuccessAlert()\n          const obj = {}\n          obj.id = Response.data.id\n          obj.content = Response.data.content\n          todos.value.unshift(obj)\n        })\n        .catch((Error) => console.log(Error))\n      newTodo.value = ''\n    }\n\n    const editTodo = (todoId) => {\n      const editedTodo = {\n        todo: {\n          content: newTodo.value\n        }\n      }\n      const tokenKey = {\n        headers: {\n          Authorization: token\n        }\n      }\n      axios.put(`${api}/todos/${todoId}`, editedTodo, tokenKey)\n        .then((Response) => {\n          console.log(Response)\n        })\n    }\n\n    const deleteTodo = (todoId) => {\n      const tokenKey = {\n        headers: {\n          Authorization: token\n        }\n      }\n      axios.delete(`${api}/todos/${todoId}`, tokenKey)\n        .then((Response) => {\n          console.log(Response)\n          deleteAlert()\n          setTimeout(() => getTodo(), 1500)\n        })\n    }\n\n    // alert\n    const addAlert = () => {\n      Swal.fire({\n        text: '新增欄位不得空白！',\n        confirmButtonText: 'OK',\n        confirmButtonColor: '#A7C4B5',\n        width: 300\n      })\n    }\n    const addSuccessAlert = () => {\n      Swal.fire({\n        title: 'Add Success!',\n        showConfirmButton: false,\n        timer: 1000,\n        width: 300\n      })\n    }\n    const logoutAlert = () => {\n      Swal.fire({\n        title: 'Logout Success!',\n        showConfirmButton: false,\n        timer: 1500,\n        width: 400\n      })\n    }\n    const deleteAlert = () => {\n      Swal.fire({\n        title: 'Delete Success!',\n        showConfirmButton: false,\n        timer: 1500,\n        width: 400\n      })\n    }\n\n    return {\n      // data\n      username,\n      newTodo,\n      todos,\n      // fn\n      getTodo,\n      addTodo,\n      logout,\n      editTodo,\n      deleteTodo,\n      // alert\n      addAlert,\n      addSuccessAlert,\n      logoutAlert,\n      deleteAlert\n    }\n  }\n}\n</script>\n\n<style>\n.container{\n  /* max-width: 100vw; */\n  .row{\n    min-height: 5vh;\n  }\n}\n</style>\n","import { render } from \"./TodoList.vue?vue&type=template&id=32d90d30\"\nimport script from \"./TodoList.vue?vue&type=script&lang=js\"\nexport * from \"./TodoList.vue?vue&type=script&lang=js\"\n\nimport \"./TodoList.vue?vue&type=style&index=0&id=32d90d30&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","_imports_0","alt","_hoisted_3","_hoisted_4","_toDisplayString","$setup","username","href","onClick","_cache","_withModifiers","args","logout","_hoisted_5","_hoisted_6","type","placeholder","$event","newTodo","addTodo","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","todos","item","key","id","deleteTodo","content","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","name","setup","api","token","localStorage","getItem","axios","delete","headers","Authorization","then","Response","logoutAlert","console","log","setTimeout","router","push","ref","getTodo","tokenKey","get","value","data","onMounted","addAlert","todo","post","addSuccessAlert","obj","unshift","catch","Error","editTodo","todoId","editedTodo","put","deleteAlert","Swal","text","confirmButtonText","confirmButtonColor","width","title","showConfirmButton","timer","__exports__","render"],"sourceRoot":""}