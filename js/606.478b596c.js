"use strict";(self["webpackChunktask_tracker_vue"]=self["webpackChunktask_tracker_vue"]||[]).push([[606],{3606:function(e,t,o){o.r(t),o.d(t,{default:function(){return ee}});var l=o(6768),n=o(4232),s=o(5130),c=o(5539);const a={class:"container mb-3"},d={class:"row mt-5 justify-content-between align-items-center m-auto"},i={class:"col-md-6 col-7 m-auto d-md-flex justify-content-md-end align-items-center text-center"},r={class:"mx-md-4 mx-2 fw-bold fs-5 mb-md-0 mb-3"},u={class:"row mt-4"},m={class:"col-md-9 col-11 mx-auto mt-5 p-0 d-md-flex justify-content-md-between"},k={class:"card border-primary me-md-3 mb-4 mx-auto w-100"},f={class:"card-body text-primary"},p={key:0},h=["onClick"],g={class:"row w-100 justify-content-between"},x={class:"col-10 d-flex align-items-center"},y={class:"col-2 d-flex align-items-center justify-content-end"},v={href:""},L=["onClick"],b={key:1},C={class:"card border-primary me-md-3 mb-4 mx-auto w-100"},w={class:"card-body text-primary"},T={key:0},A=["onClick"],_={class:"row w-100 justify-content-between"},$={class:"col-10 d-flex align-items-center"},E={class:"col-2 d-flex align-items-center justify-content-end"},j={href:""},X=["onClick"],D={key:1},B={class:"card border-primary mb-4 mx-auto w-100"},S={class:"card-body text-primary"},z={key:0},K=["onClick"],I={class:"row w-100 justify-content-between"},F={class:"col-10 d-flex align-items-center"},N={class:"col-2 d-flex align-items-center justify-content-end"},R={href:""},V=["onClick"],W={key:1},P={class:"col-md-9 col-11 mx-auto p-0"},U={class:"d-flex justify-content-between align-items-center"};function H(e,t,o,H,J,O){return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.Lk)("div",d,[t[5]||(t[5]=(0,l.Lk)("div",{class:"col-md-4 col-12 px-md-0 px-5 mb-md-0 mb-3"},[(0,l.Lk)("img",{src:c,alt:"logo",class:"w-100 px-md-8 px-2"})],-1)),(0,l.Lk)("div",i,[(0,l.Lk)("p",r,"Hi! "+(0,n.v_)(H.username),1),(0,l.Lk)("a",{href:"",class:"text-secondary text-decoration-none",onClick:t[0]||(t[0]=(0,s.D$)(((...e)=>H.logout&&H.logout(...e)),["prevent"]))},"登出")])]),(0,l.Lk)("div",u,[(0,l.Lk)("form",{class:"col-md-8 col-11 m-auto d-flex justify-content-center align-items-center",onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>H.addTodo&&H.addTodo(...e)),["prevent"]))},[(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-sm w-25 px-4 py-2 me-3","onUpdate:modelValue":t[1]||(t[1]=e=>H.todoCategory=e)},t[6]||(t[6]=[(0,l.Lk)("option",{value:"category",selected:"",disabled:""},"Todo Category",-1),(0,l.Lk)("option",{value:"personal"},"Personal",-1),(0,l.Lk)("option",{value:"family"},"Family",-1),(0,l.Lk)("option",{value:"work"},"Work",-1)]),512),[[s.u1,H.todoCategory]]),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control-lg w-75 border border-primary text-center",placeholder:"Add New Todo Now!","onUpdate:modelValue":t[2]||(t[2]=e=>H.newTodo=e)},null,512),[[s.Jo,H.newTodo]]),t[7]||(t[7]=(0,l.Lk)("button",{class:"btn btn-outline-primary ms-2"},[(0,l.Lk)("i",{class:"fa-solid fa-plus"})],-1))],32),(0,l.Lk)("div",m,[(0,l.Lk)("div",k,[t[10]||(t[10]=(0,l.Lk)("div",{class:"card-header fs-4 fw-bold p-3 text-center text-secondary"},"Personal",-1)),(0,l.Lk)("div",f,[H.todos.length>0?((0,l.uX)(),(0,l.CE)("ul",p,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(H.todos,(e=>((0,l.uX)(),(0,l.CE)("li",{class:(0,n.C4)(["d-flex justify-content-start align-items-center border rounded py-2 px-2 mb-3 w-100",{"bg-primary":null!==e.completed_at}]),key:e.id,onClick:(0,s.D$)((t=>H.doneTodo(e.id)),["prevent"])},[(0,l.Lk)("div",g,[(0,l.Lk)("div",x,[t[8]||(t[8]=(0,l.Lk)("i",{class:"bi bi-check-circle-fill text-light fs-4"},null,-1)),(0,l.Lk)("p",{class:(0,n.C4)(["px-3",{"text-light":null!==e.completed_at}])},(0,n.v_)(e.content),3)]),(0,l.Lk)("div",y,[(0,l.Lk)("a",v,[(0,l.Lk)("i",{class:(0,n.C4)(["fa-regular fa-trash-can ms-2",{"text-light":null!==e.completed_at}]),onClick:(0,s.D$)((t=>H.deleteTodo(e.id)),["prevent","stop"])},null,10,L)])])])],10,h)))),128))])):((0,l.uX)(),(0,l.CE)("ul",b,t[9]||(t[9]=[(0,l.Lk)("li",{class:"fs-5 text-secondary text-center"},"Nothing Todo...",-1)])))])]),(0,l.Lk)("div",C,[t[13]||(t[13]=(0,l.Lk)("div",{class:"card-header fs-4 fw-bold p-3 text-center text-secondary"},"Family",-1)),(0,l.Lk)("div",w,[H.todos.length>0?((0,l.uX)(),(0,l.CE)("ul",T,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(H.todos,(e=>((0,l.uX)(),(0,l.CE)("li",{class:(0,n.C4)(["d-flex justify-content-start align-items-center border rounded py-2 px-2 mb-3 w-100",{"bg-primary":null!==e.completed_at}]),key:e.id,onClick:(0,s.D$)((t=>H.doneTodo(e.id)),["prevent"])},[(0,l.Lk)("div",_,[(0,l.Lk)("div",$,[t[11]||(t[11]=(0,l.Lk)("i",{class:"bi bi-check-circle-fill text-light fs-4"},null,-1)),(0,l.Lk)("p",{class:(0,n.C4)(["px-3",{"text-light":null!==e.completed_at}])},(0,n.v_)(e.content),3)]),(0,l.Lk)("div",E,[(0,l.Lk)("a",j,[(0,l.Lk)("i",{class:(0,n.C4)(["fa-regular fa-trash-can ms-2",{"text-light":null!==e.completed_at}]),onClick:(0,s.D$)((t=>H.deleteTodo(e.id)),["prevent","stop"])},null,10,X)])])])],10,A)))),128))])):((0,l.uX)(),(0,l.CE)("ul",D,t[12]||(t[12]=[(0,l.Lk)("li",{class:"fs-5 text-secondary text-center"},"Nothing Todo...",-1)])))])]),(0,l.Lk)("div",B,[t[16]||(t[16]=(0,l.Lk)("div",{class:"card-header fs-4 fw-bold p-3 text-center text-secondary"},"Work",-1)),(0,l.Lk)("div",S,[H.todos.length>0?((0,l.uX)(),(0,l.CE)("ul",z,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(H.todos,(e=>((0,l.uX)(),(0,l.CE)("li",{class:(0,n.C4)(["d-flex justify-content-start align-items-center border rounded py-2 px-2 mb-3 w-100",{"bg-primary":null!==e.completed_at}]),key:e.id,onClick:(0,s.D$)((t=>H.doneTodo(e.id)),["prevent"])},[(0,l.Lk)("div",I,[(0,l.Lk)("div",F,[t[14]||(t[14]=(0,l.Lk)("i",{class:"bi bi-check-circle-fill text-light fs-4"},null,-1)),(0,l.Lk)("p",{class:(0,n.C4)(["px-3",{"text-light":null!==e.completed_at}])},(0,n.v_)(e.content),3)]),(0,l.Lk)("div",N,[(0,l.Lk)("a",R,[(0,l.Lk)("i",{class:(0,n.C4)(["fa-regular fa-trash-can ms-2",{"text-light":null!==e.completed_at}]),onClick:(0,s.D$)((t=>H.deleteTodo(e.id)),["prevent","stop"])},null,10,V)])])])],10,K)))),128))])):((0,l.uX)(),(0,l.CE)("ul",W,t[15]||(t[15]=[(0,l.Lk)("li",{class:"fs-5 text-secondary text-center"},"Nothing Todo...",-1)])))])])]),(0,l.Lk)("div",P,[(0,l.Lk)("ul",U,[(0,l.Lk)("li",null,"尚有 "+(0,n.v_)(H.undone.length)+" 項待辦",1),(0,l.Lk)("li",{class:"btn btn-outline-primary",onClick:t[4]||(t[4]=(0,s.D$)(((...e)=>H.deleteAll&&H.deleteAll(...e)),["prevent"]))},"清除已完成項目")])])])])}o(4114);var J=o(144),O=o(4373),q=o(4874),G=o.n(q),M=o(4103),Q={name:"app",setup(){const e="https://todoo.5xcamp.us",t=localStorage.getItem("token"),o=localStorage.getItem("username"),n=(0,J.KR)("Todo Category");localStorage.setItem("todoCategory",n);const s=()=>{const o={headers:{Authorization:t}};O.A.delete(`${e}/users/sign_out`,o).then((e=>{g(),console.log(e),setTimeout((()=>M.A.push("/")),1500)}))},c=(0,J.KR)([]),a=()=>{const o={headers:{Authorization:t}};O.A.get(`${e}/todos`,o).then((e=>{c.value=e.data.todos,console.log(e.data.todos)})).catch((e=>console.log(e)))};(0,l.sV)((()=>{a()}));const d=(0,J.KR)(""),i=()=>{if(""===d.value)return void p();const o={todo:{content:d.value.trim()}},l={headers:{Authorization:t}};O.A.post(`${e}/todos`,o,l).then((e=>{h();const t={};t.id=e.data.id,t.content=e.data.content,c.value.unshift(t),a(),d.value.focus()})).catch((e=>console.log(e))),d.value=""},r=o=>{const l={todo:{content:d.value}},n={headers:{Authorization:t}};O.A.put(`${e}/todos/${o}`,l,n).then((e=>{console.log(e)})).catch((e=>console.log(e)))},u=o=>{const l={headers:{Authorization:t}};O.A.patch(`${e}/todos/${o}/toggle`,{},l).then((e=>{x(),a()})).catch((e=>console.log(e)))},m=o=>{const l={headers:{Authorization:t}};O.A.delete(`${e}/todos/${o}`,l).then((e=>{console.log(e),y(),setTimeout((()=>a()),1500)})).catch((e=>console.log(e)))},k=()=>{const o={headers:{Authorization:t}},l=c.value.filter((e=>null!==e.completed_at));0===l.length?v():l.forEach((t=>{const l=`${e}/todos/${t.id}`;O.A.delete(l,o).then((e=>a())).catch((e=>{console.log(e)})),y()}))},f=(0,l.EW)((()=>c.value.filter((e=>null===e.completed_at)))),p=()=>{G().fire({text:"新增欄位不得空白！",confirmButtonText:"OK",confirmButtonColor:"#A7C4B5",width:300})},h=()=>{G().fire({title:"Add Success!",showConfirmButton:!1,timer:1e3,width:300})},g=()=>{G().fire({title:"Logout Success!",showConfirmButton:!1,timer:1500,width:400})},x=()=>{G().fire({title:"Todo Status Change.",showConfirmButton:!1,timer:1500,width:400})},y=()=>{G().fire({title:"Delete Success!",showConfirmButton:!1,timer:1500,width:400})},v=()=>{G().fire({title:"Todo undo!",showConfirmButton:!1,timer:1500,width:400})};return{username:o,newTodo:d,todos:c,undone:f,todoCategory:n,getTodo:a,addTodo:i,logout:s,editTodo:r,deleteTodo:m,doneTodo:u,deleteAll:k}}},Y=o(1241);const Z=(0,Y.A)(Q,[["render",H]]);var ee=Z}}]);
//# sourceMappingURL=606.478b596c.js.map